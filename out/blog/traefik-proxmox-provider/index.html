<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/logo.png"/><link rel="preload" as="image" href="/images/blog/traefik-proxmox-provider.png"/><link rel="stylesheet" href="/_next/static/css/abe6de445b0af0a3.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-3f64a0537c7bc8a3.js"/><script src="/_next/static/chunks/fd9d1056-0097d9d9ec684ab3.js" async=""></script><script src="/_next/static/chunks/117-79668d8471f8150e.js" async=""></script><script src="/_next/static/chunks/main-app-90a9b14715a03262.js" async=""></script><script src="/_next/static/chunks/870fdd6f-1005523f650d6de0.js" async=""></script><script src="/_next/static/chunks/69b09407-46b2639c76edccb7.js" async=""></script><script src="/_next/static/chunks/972-754abb25b281c25e.js" async=""></script><script src="/_next/static/chunks/268-b1d85539e7811b02.js" async=""></script><script src="/_next/static/chunks/173-192306c945f2a05a.js" async=""></script><script src="/_next/static/chunks/app/layout-f2db469d64b09496.js" async=""></script><script src="/_next/static/chunks/app/error-76dbd42c540276b0.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bid%5D/page-259fcf7354bb142c.js" async=""></script><link rel="preload" href="https://stats.authoritah.com/js/script.outbound-links.pageview-props.tagged-events.js" as="script"/><title>Corey Stone - Full Stack Developer</title><meta name="description" content="Turning Vision Into Reality With Code And Design"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_d65c78"><div class="flex flex-col min-h-screen"><header class="fixed w-full z-50 transition-all duration-300 bg-transparent"><div class="container mx-auto px-4 py-4"><nav class="flex items-center justify-between"><a class="text-2xl font-bold text-primary dark:text-white" href="/"><img src="/logo.png" alt="Corey Stone" class="h-10 w-auto"/></a><div class="hidden md:flex items-center space-x-8"><a class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-white" href="/">Home</a><a class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-white" href="/about/">About</a><a class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-white" href="/projects/">Projects</a><a class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-white" href="/blog/">Blog</a><a class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-white" href="/contact/">Contact</a><a class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-white" href="/client-portal/">Client Portal</a><button class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700" aria-label="Switch to light mode"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun h-5 w-5 text-gray-700 dark:text-gray-300" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path></svg></button></div><div class="flex md:hidden items-center space-x-4"><button class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700" aria-label="Switch to light mode"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun h-5 w-5 text-gray-700 dark:text-gray-300" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path></svg></button><button class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700" aria-label="Open menu"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars h-5 w-5 text-gray-700 dark:text-gray-300" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"></path></svg></button></div></nav></div></header><main class="flex-grow"><div class="pt-24 pb-16"><div class="container mx-auto px-4"><article class="max-w-4xl mx-auto"><div class="mb-8"><a class="inline-flex items-center text-primary dark:text-primary-light hover:underline" href="/blog/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left mr-2 h-4 w-4" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg>Back to all posts</a></div><div class="mb-8 rounded-lg overflow-hidden shadow-lg"><img src="/images/blog/traefik-proxmox-provider.png" alt="Streamlining Homelab Routing with Traefik Proxmox Provider" class="w-full h-auto"/></div><div class="mb-8"><h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4">Streamlining Homelab Routing with Traefik Proxmox Provider</h1><div class="flex flex-wrap items-center text-sm text-gray-600 dark:text-gray-400 mb-4 space-x-6"><div class="flex items-center"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="calendar-days" class="svg-inline--fa fa-calendar-days h-4 w-4 mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"></path></svg><span>March 27, 2024</span></div><div class="flex items-center"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="user" class="svg-inline--fa fa-user h-4 w-4 mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"></path></svg><span>Corey Stone</span></div></div><div class="flex flex-wrap items-center text-sm text-gray-600 dark:text-gray-400"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags h-4 w-4 mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5L0 80C0 53.5 21.5 32 48 32l149.5 0c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"></path></svg><span class="mr-2">#<!-- -->homelab<!-- --> </span><span class="mr-2">#<!-- -->proxmox<!-- --> </span><span class="mr-2">#<!-- -->traefik<!-- --> </span><span class="mr-2">#<!-- -->routing<!-- --> </span><span class="mr-2">#<!-- -->automation</span></div></div><div class="prose prose-lg max-w-none dark:prose-invert prose-headings:text-gray-900 dark:prose-headings:text-white prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-a:text-primary dark:prose-a:text-primary-light prose-img:rounded-lg prose-img:shadow-md mb-8"><div><h1>Streamlining Homelab Routing with Traefik Proxmox Provider</h1>
<p>If you're running a Proxmox-based homelab, you've likely encountered the challenge of efficiently managing routing to your various services. The Traefik Proxmox Provider solves this problem elegantly by automatically discovering your Proxmox VMs and containers, then configuring Traefik routing based on metadata you define.</p>
<h2>What is Traefik Proxmox Provider?</h2>
<p>The Traefik Proxmox Provider is a plugin for <a href="https://traefik.io/">Traefik</a> that automatically configures routing based on your Proxmox virtual machines and containers. Instead of manually updating Traefik configurations when you create, update, or remove services in your Proxmox environment, this provider dynamically handles routing through simple metadata tags.</p>
<p>Key features include:</p>
<ul>
<li>Automatic discovery of Proxmox VMs and containers</li>
<li>Configuration of routing based on VM/container notes</li>
<li>Support for both HTTP and HTTPS endpoints</li>
<li>Configurable polling interval</li>
<li>Full support for Traefik's routing, middleware, and TLS options</li>
</ul>
<h2>Why Use It in Your Homelab?</h2>
<p>In a homelab environment, you're likely running multiple services across VMs and containers. Manually updating reverse proxy configurations each time you modify your environment is tedious and error-prone. With this provider:</p>
<ol>
<li>You get <strong>zero-touch provisioning</strong> - newly created services are automatically discovered</li>
<li>Your routing configuration lives with the service itself (in Proxmox notes)</li>
<li>You maintain a single source of truth for service configuration</li>
<li>You can easily move services between hosts without reconfiguring your routing</li>
</ol>
<h2>Setting Up Traefik Proxmox Provider in Your Homelab</h2>
<h3>Prerequisites</h3>
<ul>
<li>Proxmox VE installation</li>
<li>Traefik v2.x running in your homelab</li>
<li>Basic understanding of Traefik concepts (routers, services, middleware)</li>
</ul>
<h3>Step 1: Set Up Proxmox API Token</h3>
<p>The provider needs an API token with the right permissions to read your VM and container information:</p>
<pre><code class="language-bash"># Create a role with minimum required permissions
pveum role add traefik-provider -privs "VM.Audit,VM.Monitor,Sys.Audit,Datastore.Audit"

# Create an API token for your user (use your username)
pveum user token add root@pam traefik_homelab

# Assign the role to the token
pveum acl modify / -token 'root@pam!traefik_homelab' -role traefik-provider
</code></pre>
<p><strong>Important:</strong> Save the API token value displayed after creation, as it won't be shown again.</p>
<h3>Step 2: Add the Plugin to Traefik</h3>
<p>Edit your Traefik static configuration file (typically <code>traefik.yaml</code> or <code>traefik.toml</code>) to include the plugin:</p>
<pre><code class="language-yaml">experimental:
  plugins:
    traefik-proxmox-provider:
      moduleName: github.com/NX211/traefik-proxmox-provider
      version: v0.7.0
</code></pre>
<h3>Step 3: Configure the Provider</h3>
<p>Add the provider configuration to your Traefik dynamic configuration:</p>
<pre><code class="language-yaml">providers:
  plugin:
    traefik-proxmox-provider:
      pollInterval: "30s"
      apiEndpoint: "https://proxmox.homelab.local"
      apiTokenId: "root@pam!traefik_homelab"
      apiToken: "your-api-token-value"
      apiLogging: "info"
      apiValidateSSL: "true"
</code></pre>
<p>Adjust the <code>apiEndpoint</code> to match your Proxmox server's URL and set the correct token values.</p>
<h3>Step 4: Solving the Network Connectivity Challenge</h3>
<p>One of the biggest challenges when using the Traefik Proxmox Provider is ensuring network connectivity between your Traefik container and the Proxmox VMs/containers. By default, Docker's network isolation prevents Traefik from reaching your Proxmox services directly.</p>
<p>Here are solutions for different Docker deployment scenarios:</p>
<h4>For Docker Standalone</h4>
<p>Use the macvlan network driver to give your Traefik container direct access to your physical network:</p>
<pre><code class="language-bash"># Create a macvlan network that shares your host's physical network
docker network create -d macvlan \
  --subnet=192.168.1.0/24 \
  --gateway=192.168.1.1 \
  -o parent=eth0 \
  proxmox-access

# Run Traefik with access to both networks
docker run -d \
  --name traefik \
  --network proxmox-access \
  --network-alias traefik \
  --ip 192.168.1.50 \
  -p 80:80 -p 443:443 \
  -v $PWD/traefik.yaml:/etc/traefik/traefik.yaml \
  traefik:latest
</code></pre>
<p>Adjust the subnet, gateway, and parent interface to match your network configuration. The <code>--ip</code> flag assigns a static IP on your physical network to the Traefik container.</p>
<h4>For Docker Compose</h4>
<p>Add macvlan network configuration to your docker-compose.yml:</p>
<pre><code class="language-yaml">version: '3'

networks:
  traefik-network:
    driver: bridge
  proxmox-network:
    driver: macvlan
    driver_opts:
      parent: eth0
    ipam:
      config:
        - subnet: "192.168.1.0/24"
          gateway: "192.168.1.1"

services:
  traefik:
    image: traefik:latest
    container_name: traefik
    networks:
      - traefik-network
      - proxmox-network
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./traefik.yaml:/etc/traefik/traefik.yaml
</code></pre>
<p>Adjust network settings to match your environment.</p>
<h4>For Docker Swarm</h4>
<p>For Docker Swarm, you'll need to create the macvlan network as attachable and then use it in your stack:</p>
<pre><code class="language-bash"># Create the macvlan network
docker network create \
  --driver=macvlan \
  --subnet=192.168.1.0/24 \
  --gateway=192.168.1.1 \
  -o parent=eth0 \
  --scope=swarm \
  --attachable \
  proxmox-access
</code></pre>
<p>In your stack YAML:</p>
<pre><code class="language-yaml">version: '3.8'

networks:
  traefik-network:
    external: true
  proxmox-access:
    external: true

services:
  traefik:
    image: traefik:latest
    networks:
      - traefik-network
      - proxmox-access
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./traefik.yaml:/etc/traefik/traefik.yaml
    deploy:
      placement:
        constraints:
          - node.role == manager
</code></pre>
<h4>Alternative Solution: DNS Configuration</h4>
<p>If macvlan networking isn't an option, you can also solve the problem by configuring DNS:</p>
<pre><code class="language-yaml">services:
  traefik:
    image: traefik:latest
    dns:
      - 192.168.1.1  # Your network DNS server that can resolve Proxmox hostnames
    dns_search:
      - homelab.local  # Your local domain
    # ... other configuration ...
</code></pre>
<h4>Using IP Addresses Instead of Hostnames</h4>
<p>As a simpler alternative, you can use IP addresses in your Proxmox VM notes instead of hostnames:</p>
<pre><code>traefik.enable=true
traefik.http.routers.mywebsite.rule=Host(`website.homelab.local`)
traefik.http.services.mywebsite.loadbalancer.server.url=http://192.168.1.100:8080
</code></pre>
<p>This approach avoids hostname resolution issues entirely.</p>
<h3>Step 5: Label Your VMs and Containers</h3>
<p>This is where the magic happens! Edit the "Notes" section of your VMs or containers in the Proxmox web UI:</p>
<ol>
<li>Select your VM/container</li>
<li>Click on the "Notes" field in the Summary tab</li>
<li>Add Traefik labels, one per line</li>
</ol>
<p>At minimum, add:</p>
<pre><code>traefik.enable=true
</code></pre>
<p>For a basic web service, you might use:</p>
<pre><code>traefik.enable=true
traefik.http.routers.mywebsite.rule=Host(`website.homelab.local`)
traefik.http.services.mywebsite.loadbalancer.server.port=8080
</code></pre>
<h3>Step 6: Restart Traefik</h3>
<p>Restart your Traefik instance to load the new configuration:</p>
<pre><code class="language-bash">sudo systemctl restart traefik
</code></pre>
<h2>Real-World Examples for Your Homelab</h2>
<h3>Media Server (Jellyfin)</h3>
<pre><code>traefik.enable=true
traefik.http.routers.jellyfin.rule=Host(`media.homelab.local`)
traefik.http.services.jellyfin.loadbalancer.server.port=8096
</code></pre>
<h3>Home Assistant with HTTPS</h3>
<pre><code>traefik.enable=true
traefik.http.routers.homeassistant.rule=Host(`hass.homelab.local`)
traefik.http.routers.homeassistant.entrypoints=websecure
traefik.http.routers.homeassistant.tls=true
traefik.http.services.homeassistant.loadbalancer.server.port=8123
</code></pre>
<h3>Multiple Services on One VM</h3>
<pre><code>traefik.enable=true
traefik.http.routers.dashboard.rule=Host(`dashboard.homelab.local`)
traefik.http.services.dashboard.loadbalancer.server.port=3000
traefik.http.routers.api.rule=Host(`api.homelab.local`)
traefik.http.services.api.loadbalancer.server.port=8080
</code></pre>
<h2>How It Works Behind the Scenes</h2>
<p>The provider polls your Proxmox API at regular intervals (default 30s) and:</p>
<ol>
<li>Discovers all running VMs and containers</li>
<li>Reads the notes field of each VM/container</li>
<li>Extracts Traefik labels from the notes</li>
<li>Creates Traefik router and service configurations</li>
<li>Provides these configurations to Traefik</li>
<li>Traefik applies the routing rules dynamically</li>
</ol>
<h2>Troubleshooting Tips</h2>
<p>If your services aren't getting routed correctly:</p>
<ol>
<li>Enable debug logging with <code>apiLogging: "debug"</code></li>
<li>Verify your VM/container has <code>traefik.enable=true</code> in its notes</li>
<li>Check that the VM/container is running</li>
<li>Verify network connectivity between Traefik and the VM/container:
<ul>
<li>Try <code>ping</code> from the Docker host to Proxmox VMs</li>
<li>For macvlan networks, ensure the IP allocation doesn't conflict</li>
<li>Check if you're getting 502 Bad Gateway errors (indicates network connectivity issues)</li>
</ul>
</li>
<li>Check the Traefik logs for any routing errors</li>
<li>If using hostnames, verify DNS resolution works within the Traefik container</li>
</ol>
<h2>Conclusion</h2>
<p>The Traefik Proxmox Provider is a game-changer for homelab enthusiasts using Proxmox. It eliminates the need for manual routing configuration while giving you the full power and flexibility of Traefik's routing capabilities. By storing routing configuration as metadata on your VMs and containers, you maintain a clean, self-documenting system that scales with your homelab's growth.</p>
<p>With the right network configuration, Traefik can seamlessly connect to your Proxmox environment, creating a unified, easy-to-manage infrastructure for all your homelab services.</p>
<p>Try it out in your environment, and experience the convenience of automatic service discovery and routing!</p></div></div><div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700 mb-8"><h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">About the Author</h3><p class="text-gray-700 dark:text-gray-300">Corey Stone<!-- --> is a passionate web developer and technology enthusiast.</p></div><div class="mt-8 text-center"><a class="inline-flex items-center text-primary dark:text-primary-light hover:underline" href="/blog/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left mr-2 h-4 w-4" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg>Back to all posts</a></div></article></div></div></main><footer class="bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800"><div class="container mx-auto px-4 py-8"><div class="grid grid-cols-1 md:grid-cols-4 gap-8"><div class="md:col-span-2"><a class="text-xl font-bold text-primary dark:text-white" href="/">Corey Stone</a><p class="mt-2 text-gray-600 dark:text-gray-400">Turning Vision Into Reality With Code And Design</p><div class="mt-4 flex space-x-4"><a href="https://github.com/NX211" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white" aria-label="GitHub"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github h-6 w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://www.linkedin.com/in/corey-stone-17b19a80" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white" aria-label="LinkedIn"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin h-6 w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="https://authoritah.social/@nx211" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white" aria-label="Mastodon"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="mastodon" class="svg-inline--fa fa-mastodon h-6 w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg></a><a href="https://bsky.app/profile/nx211.bsky.social" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white" aria-label="Bluesky"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="bluesky" class="svg-inline--fa fa-bluesky h-6 w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2c42.1-31.6 110.3-56 110.3 21.8c0 15.5-8.9 130.5-14.1 149.2C478.2 298 412 314.6 353.1 304.5c102.9 17.5 129.1 75.5 72.5 133.5c-107.4 110.2-154.3-27.6-166.3-62.9l0 0c-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8l0 0c-12 35.3-59 173.1-166.3 62.9c-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1C10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"></path></svg></a></div></div><div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Navigation</h3><ul class="mt-4 space-y-2"><li><a class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white" href="/">Home</a></li><li><a class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white" href="/about/">About</a></li><li><a class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white" href="/projects/">Projects</a></li><li><a class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white" href="/blog/">Blog</a></li></ul></div><div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Projects</h3><ul class="mt-4 space-y-2"><li><a href="https://members.jlshawconsulting.com/" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white">JL Shaw Consulting</a></li><li><a href="https://github.com/NX211/traefik-webfinger" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white">Traefik WebFinger</a></li><li><a href="https://github.com/NX211/traefik-proxmox-provider" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white">Traefik Proxmox Provider</a></li><li><a href="https://homelabhobby.social/" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-white">HomeLab Hobby</a></li></ul></div></div><div class="mt-8 pt-8 border-t border-gray-200 dark:border-gray-800"><p class="text-center text-gray-600 dark:text-gray-400">© <!-- -->2025<!-- --> Corey Stone. All rights reserved.</p></div></div></footer></div><script src="/_next/static/chunks/webpack-3f64a0537c7bc8a3.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/abe6de445b0af0a3.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[2846,[],\"\"]\n6:I[4707,[],\"\"]\n8:I[6423,[],\"\"]\n9:I[2060,[\"676\",\"static/chunks/870fdd6f-1005523f650d6de0.js\",\"958\",\"static/chunks/69b09407-46b2639c76edccb7.js\",\"972\",\"static/chunks/972-754abb25b281c25e.js\",\"268\",\"static/chunks/268-b1d85539e7811b02.js\",\"173\",\"static/chunks/173-192306c945f2a05a.js\",\"185\",\"static/chunks/app/layout-f2db469d64b09496.js\"],\"ThemeProvider\"]\na:I[7582,[\"676\",\"static/chunks/870fdd6f-1005523f650d6de0.js\",\"958\",\"static/chunks/69b09407-46b2639c76edccb7.js\",\"972\",\"static/chunks/972-754abb25b281c25e.js\",\"268\",\"static/chunks/268-b1d85539e7811b02.js\",\"173\",\"static/chunks/173-192306c945f2a05a.js\",\"185\",\"static/chunks/app/layout-f2db469d64b09496.js\"],\"default\"]\nb:I[9295,[\"676\",\"static/chunks/870fdd6f-1005523f650d6de0.js\",\"958\",\"static/chunks/69b09407-46b2639c76edccb7.js\",\"972\",\"static/chunks/972-754abb25b281c25e.js\",\"268\",\"static/chunks/268-b1d85539e7811b02.js\",\"173\",\"static/chunks/173-192306c945f2a05a.js\",\"185\",\"static/chunks/app/layout-f2db469d64b09496.js\"],\"default\"]\nc:I[376,[\"676\",\"static/chunks/870fdd6f-1005523f650d6de0.js\",\"972\",\"static/chunks/972-754abb25b281c25e.js\",\"268\",\"static/chunks/268-b1d85539e7811b02.js\",\"601\",\"static/chunks/app/error-76dbd42c540276b0.js\"],\"default\"]\nd:I[2972,[\"972\",\"static/chunks/972-754abb25b281c25e.js\",\"548\",\"static/chunks/app/blog/%5Bid%5D/page-259fcf7354bb142c.js\"],\"\"]\ne:I[2834,[\"676\",\"static/chunks/870fdd6f-1005523f650d6de0.js\",\"958\",\"static/chunks/69b09407-46b2639c76edccb7.js\",\"972\",\"static/chunks/972-754abb25b281c25e.js\",\"268\",\"static/chunks/268-b1d85539e7811b02.js\",\"173\",\"static/chunks/173-192306c945f2a05a.js\",\"185\",\"static/chunks/app/layout-f2db469d64b09496.js\"],\"default\"]\n10:I[1060,[],\"\"]\n7:[\"id\",\"traefik-proxmox-provider\",\"d\"]\n11:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L3\",null,{\"buildId\":\"uL9wgSKwJgEfVobUNMS_o\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"blog\",\"traefik-proxmox-provider\",\"\"],\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"id\",\"traefik-proxmox-provider\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"traefik-proxmox-provider\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"id\",\"traefik-proxmox-provider\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",\"$L5\",null],null],null]},[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$7\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/abe6de445b0af0a3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_d65c78\",\"children\":[\"$\",\"$L9\",null,{\"children\":[[\"$\",\"$La\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex flex-col min-h-screen\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-grow\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$c\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-6xl font-bold text-primary dark:text-white mb-4\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold text-gray-900 dark:text-white mb-4\",\"children\":\"Page Not Found\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 dark:text-gray-400 mb-8\",\"children\":\"The page you're looking for doesn't exist or has been moved.\"}],[\"$\",\"$Ld\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center text-primary dark:text-white hover:text-primary-dark dark:hover:text-gray-300 transition-colors duration-300\",\"children\":[[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"arrow-left\",\"className\":\"svg-inline--fa fa-arrow-left mr-2 h-4 w-4\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z\",\"style\":{}}]}],\"Back to Home\"]}]]}]}],\"notFoundStyles\":[]}]}],[\"$\",\"$Le\",null,{}]]}]]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lf\"],\"globalErrorComponent\":\"$10\",\"missingSlots\":\"$W11\"}]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Corey Stone - Full Stack Developer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Turning Vision Into Reality With Code And Design\"}],[\"$\",\"meta\",\"4\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script><script>self.__next_f.push([1,"12:T2a22,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eStreamlining Homelab Routing with Traefik Proxmox Provider\u003c/h1\u003e\n\u003cp\u003eIf you're running a Proxmox-based homelab, you've likely encountered the challenge of efficiently managing routing to your various services. The Traefik Proxmox Provider solves this problem elegantly by automatically discovering your Proxmox VMs and containers, then configuring Traefik routing based on metadata you define.\u003c/p\u003e\n\u003ch2\u003eWhat is Traefik Proxmox Provider?\u003c/h2\u003e\n\u003cp\u003eThe Traefik Proxmox Provider is a plugin for \u003ca href=\"https://traefik.io/\"\u003eTraefik\u003c/a\u003e that automatically configures routing based on your Proxmox virtual machines and containers. Instead of manually updating Traefik configurations when you create, update, or remove services in your Proxmox environment, this provider dynamically handles routing through simple metadata tags.\u003c/p\u003e\n\u003cp\u003eKey features include:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAutomatic discovery of Proxmox VMs and containers\u003c/li\u003e\n\u003cli\u003eConfiguration of routing based on VM/container notes\u003c/li\u003e\n\u003cli\u003eSupport for both HTTP and HTTPS endpoints\u003c/li\u003e\n\u003cli\u003eConfigurable polling interval\u003c/li\u003e\n\u003cli\u003eFull support for Traefik's routing, middleware, and TLS options\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eWhy Use It in Your Homelab?\u003c/h2\u003e\n\u003cp\u003eIn a homelab environment, you're likely running multiple services across VMs and containers. Manually updating reverse proxy configurations each time you modify your environment is tedious and error-prone. With this provider:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eYou get \u003cstrong\u003ezero-touch provisioning\u003c/strong\u003e - newly created services are automatically discovered\u003c/li\u003e\n\u003cli\u003eYour routing configuration lives with the service itself (in Proxmox notes)\u003c/li\u003e\n\u003cli\u003eYou maintain a single source of truth for service configuration\u003c/li\u003e\n\u003cli\u003eYou can easily move services between hosts without reconfiguring your routing\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eSetting Up Traefik Proxmox Provider in Your Homelab\u003c/h2\u003e\n\u003ch3\u003ePrerequisites\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eProxmox VE installation\u003c/li\u003e\n\u003cli\u003eTraefik v2.x running in your homelab\u003c/li\u003e\n\u003cli\u003eBasic understanding of Traefik concepts (routers, services, middleware)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eStep 1: Set Up Proxmox API Token\u003c/h3\u003e\n\u003cp\u003eThe provider needs an API token with the right permissions to read your VM and container information:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create a role with minimum required permissions\npveum role add traefik-provider -privs \"VM.Audit,VM.Monitor,Sys.Audit,Datastore.Audit\"\n\n# Create an API token for your user (use your username)\npveum user token add root@pam traefik_homelab\n\n# Assign the role to the token\npveum acl modify / -token 'root@pam!traefik_homelab' -role traefik-provider\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eImportant:\u003c/strong\u003e Save the API token value displayed after creation, as it won't be shown again.\u003c/p\u003e\n\u003ch3\u003eStep 2: Add the Plugin to Traefik\u003c/h3\u003e\n\u003cp\u003eEdit your Traefik static configuration file (typically \u003ccode\u003etraefik.yaml\u003c/code\u003e or \u003ccode\u003etraefik.toml\u003c/code\u003e) to include the plugin:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eexperimental:\n  plugins:\n    traefik-proxmox-provider:\n      moduleName: github.com/NX211/traefik-proxmox-provider\n      version: v0.7.0\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eStep 3: Configure the Provider\u003c/h3\u003e\n\u003cp\u003eAdd the provider configuration to your Traefik dynamic configuration:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eproviders:\n  plugin:\n    traefik-proxmox-provider:\n      pollInterval: \"30s\"\n      apiEndpoint: \"https://proxmox.homelab.local\"\n      apiTokenId: \"root@pam!traefik_homelab\"\n      apiToken: \"your-api-token-value\"\n      apiLogging: \"info\"\n      apiValidateSSL: \"true\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAdjust the \u003ccode\u003eapiEndpoint\u003c/code\u003e to match your Proxmox server's URL and set the correct token values.\u003c/p\u003e\n\u003ch3\u003eStep 4: Solving the Network Connectivity Challenge\u003c/h3\u003e\n\u003cp\u003eOne of the biggest challenges when using the Traefik Proxmox Provider is ensuring network connectivity between your Traefik container and the Proxmox VMs/containers. By default, Docker's network isolation prevents Traefik from reaching your Proxmox services directly.\u003c/p\u003e\n\u003cp\u003eHere are solutions for different Docker deployment scenarios:\u003c/p\u003e\n\u003ch4\u003eFor Docker Standalone\u003c/h4\u003e\n\u003cp\u003eUse the macvlan network driver to give your Traefik container direct access to your physical network:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create a macvlan network that shares your host's physical network\ndocker network create -d macvlan \\\n  --subnet=192.168.1.0/24 \\\n  --gateway=192.168.1.1 \\\n  -o parent=eth0 \\\n  proxmox-access\n\n# Run Traefik with access to both networks\ndocker run -d \\\n  --name traefik \\\n  --network proxmox-access \\\n  --network-alias traefik \\\n  --ip 192.168.1.50 \\\n  -p 80:80 -p 443:443 \\\n  -v $PWD/traefik.yaml:/etc/traefik/traefik.yaml \\\n  traefik:latest\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAdjust the subnet, gateway, and parent interface to match your network configuration. The \u003ccode\u003e--ip\u003c/code\u003e flag assigns a static IP on your physical network to the Traefik container.\u003c/p\u003e\n\u003ch4\u003eFor Docker Compose\u003c/h4\u003e\n\u003cp\u003eAdd macvlan network configuration to your docker-compose.yml:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eversion: '3'\n\nnetworks:\n  traefik-network:\n    driver: bridge\n  proxmox-network:\n    driver: macvlan\n    driver_opts:\n      parent: eth0\n    ipam:\n      config:\n        - subnet: \"192.168.1.0/24\"\n          gateway: \"192.168.1.1\"\n\nservices:\n  traefik:\n    image: traefik:latest\n    container_name: traefik\n    networks:\n      - traefik-network\n      - proxmox-network\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./traefik.yaml:/etc/traefik/traefik.yaml\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAdjust network settings to match your environment.\u003c/p\u003e\n\u003ch4\u003eFor Docker Swarm\u003c/h4\u003e\n\u003cp\u003eFor Docker Swarm, you'll need to create the macvlan network as attachable and then use it in your stack:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create the macvlan network\ndocker network create \\\n  --driver=macvlan \\\n  --subnet=192.168.1.0/24 \\\n  --gateway=192.168.1.1 \\\n  -o parent=eth0 \\\n  --scope=swarm \\\n  --attachable \\\n  proxmox-access\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn your stack YAML:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eversion: '3.8'\n\nnetworks:\n  traefik-network:\n    external: true\n  proxmox-access:\n    external: true\n\nservices:\n  traefik:\n    image: traefik:latest\n    networks:\n      - traefik-network\n      - proxmox-access\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./traefik.yaml:/etc/traefik/traefik.yaml\n    deploy:\n      placement:\n        constraints:\n          - node.role == manager\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eAlternative Solution: DNS Configuration\u003c/h4\u003e\n\u003cp\u003eIf macvlan networking isn't an option, you can also solve the problem by configuring DNS:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eservices:\n  traefik:\n    image: traefik:latest\n    dns:\n      - 192.168.1.1  # Your network DNS server that can resolve Proxmox hostnames\n    dns_search:\n      - homelab.local  # Your local domain\n    # ... other configuration ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eUsing IP Addresses Instead of Hostnames\u003c/h4\u003e\n\u003cp\u003eAs a simpler alternative, you can use IP addresses in your Proxmox VM notes instead of hostnames:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003etraefik.enable=true\ntraefik.http.routers.mywebsite.rule=Host(`website.homelab.local`)\ntraefik.http.services.mywebsite.loadbalancer.server.url=http://192.168.1.100:8080\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis approach avoids hostname resolution issues entirely.\u003c/p\u003e\n\u003ch3\u003eStep 5: Label Your VMs and Containers\u003c/h3\u003e\n\u003cp\u003eThis is where the magic happens! Edit the \"Notes\" section of your VMs or containers in the Proxmox web UI:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eSelect your VM/container\u003c/li\u003e\n\u003cli\u003eClick on the \"Notes\" field in the Summary tab\u003c/li\u003e\n\u003cli\u003eAdd Traefik labels, one per line\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eAt minimum, add:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003etraefik.enable=true\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor a basic web service, you might use:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003etraefik.enable=true\ntraefik.http.routers.mywebsite.rule=Host(`website.homelab.local`)\ntraefik.http.services.mywebsite.loadbalancer.server.port=8080\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eStep 6: Restart Traefik\u003c/h3\u003e\n\u003cp\u003eRestart your Traefik instance to load the new configuration:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo systemctl restart traefik\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eReal-World Examples for Your Homelab\u003c/h2\u003e\n\u003ch3\u003eMedia Server (Jellyfin)\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003etraefik.enable=true\ntraefik.http.routers.jellyfin.rule=Host(`media.homelab.local`)\ntraefik.http.services.jellyfin.loadbalancer.server.port=8096\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eHome Assistant with HTTPS\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003etraefik.enable=true\ntraefik.http.routers.homeassistant.rule=Host(`hass.homelab.local`)\ntraefik.http.routers.homeassistant.entrypoints=websecure\ntraefik.http.routers.homeassistant.tls=true\ntraefik.http.services.homeassistant.loadbalancer.server.port=8123\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eMultiple Services on One VM\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003etraefik.enable=true\ntraefik.http.routers.dashboard.rule=Host(`dashboard.homelab.local`)\ntraefik.http.services.dashboard.loadbalancer.server.port=3000\ntraefik.http.routers.api.rule=Host(`api.homelab.local`)\ntraefik.http.services.api.loadbalancer.server.port=8080\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eHow It Works Behind the Scenes\u003c/h2\u003e\n\u003cp\u003eThe provider polls your Proxmox API at regular intervals (default 30s) and:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDiscovers all running VMs and containers\u003c/li\u003e\n\u003cli\u003eReads the notes field of each VM/container\u003c/li\u003e\n\u003cli\u003eExtracts Traefik labels from the notes\u003c/li\u003e\n\u003cli\u003eCreates Traefik router and service configurations\u003c/li\u003e\n\u003cli\u003eProvides these configurations to Traefik\u003c/li\u003e\n\u003cli\u003eTraefik applies the routing rules dynamically\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eTroubleshooting Tips\u003c/h2\u003e\n\u003cp\u003eIf your services aren't getting routed correctly:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eEnable debug logging with \u003ccode\u003eapiLogging: \"debug\"\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eVerify your VM/container has \u003ccode\u003etraefik.enable=true\u003c/code\u003e in its notes\u003c/li\u003e\n\u003cli\u003eCheck that the VM/container is running\u003c/li\u003e\n\u003cli\u003eVerify network connectivity between Traefik and the VM/container:\n\u003cul\u003e\n\u003cli\u003eTry \u003ccode\u003eping\u003c/code\u003e from the Docker host to Proxmox VMs\u003c/li\u003e\n\u003cli\u003eFor macvlan networks, ensure the IP allocation doesn't conflict\u003c/li\u003e\n\u003cli\u003eCheck if you're getting 502 Bad Gateway errors (indicates network connectivity issues)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eCheck the Traefik logs for any routing errors\u003c/li\u003e\n\u003cli\u003eIf using hostnames, verify DNS resolution works within the Traefik container\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eThe Traefik Proxmox Provider is a game-changer for homelab enthusiasts using Proxmox. It eliminates the need for manual routing configuration while giving you the full power and flexibility of Traefik's routing capabilities. By storing routing configuration as metadata on your VMs and containers, you maintain a clean, self-documenting system that scales with your homelab's growth.\u003c/p\u003e\n\u003cp\u003eWith the right network configuration, Traefik can seamlessly connect to your Proxmox environment, creating a unified, easy-to-manage infrastructure for all your homelab services.\u003c/p\u003e\n\u003cp\u003eTry it out in your environment, and experience the convenience of automatic service discovery and routing!\u003c/p\u003e"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"pt-24 pb-16\",\"children\":[\"$\",\"div\",null,{\"className\":\"container mx-auto px-4\",\"children\":[\"$\",\"article\",null,{\"className\":\"max-w-4xl mx-auto\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"$Ld\",null,{\"href\":\"/blog\",\"className\":\"inline-flex items-center text-primary dark:text-primary-light hover:underline\",\"children\":[[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"arrow-left\",\"className\":\"svg-inline--fa fa-arrow-left mr-2 h-4 w-4\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z\",\"style\":{}}]}],\"Back to all posts\"]}]}],[\"$\",\"div\",null,{\"className\":\"mb-8 rounded-lg overflow-hidden shadow-lg\",\"children\":[\"$\",\"img\",null,{\"src\":\"/images/blog/traefik-proxmox-provider.png\",\"alt\":\"Streamlining Homelab Routing with Traefik Proxmox Provider\",\"className\":\"w-full h-auto\"}]}],[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4\",\"children\":\"Streamlining Homelab Routing with Traefik Proxmox Provider\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center text-sm text-gray-600 dark:text-gray-400 mb-4 space-x-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"calendar-days\",\"className\":\"svg-inline--fa fa-calendar-days h-4 w-4 mr-2\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z\",\"style\":{}}]}],[\"$\",\"span\",null,{\"children\":\"March 27, 2024\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"user\",\"className\":\"svg-inline--fa fa-user h-4 w-4 mr-2\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z\",\"style\":{}}]}],[\"$\",\"span\",null,{\"children\":\"Corey Stone\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center text-sm text-gray-600 dark:text-gray-400\",\"children\":[[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"tags\",\"className\":\"svg-inline--fa fa-tags h-4 w-4 mr-2\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5L0 80C0 53.5 21.5 32 48 32l149.5 0c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z\",\"style\":{}}]}],[[\"$\",\"span\",\"homelab\",{\"className\":\"mr-2\",\"children\":[\"#\",\"homelab\",\" \"]}],[\"$\",\"span\",\"proxmox\",{\"className\":\"mr-2\",\"children\":[\"#\",\"proxmox\",\" \"]}],[\"$\",\"span\",\"traefik\",{\"className\":\"mr-2\",\"children\":[\"#\",\"traefik\",\" \"]}],[\"$\",\"span\",\"routing\",{\"className\":\"mr-2\",\"children\":[\"#\",\"routing\",\" \"]}],[\"$\",\"span\",\"automation\",{\"className\":\"mr-2\",\"children\":[\"#\",\"automation\",\"\"]}]]]}]]}],[\"$\",\"div\",null,{\"className\":\"prose prose-lg max-w-none dark:prose-invert prose-headings:text-gray-900 dark:prose-headings:text-white prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-a:text-primary dark:prose-a:text-primary-light prose-img:rounded-lg prose-img:shadow-md mb-8\",\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$12\"}}]}],[\"$\",\"div\",null,{\"className\":\"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700 mb-8\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-gray-900 dark:text-white mb-2\",\"children\":\"About the Author\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-700 dark:text-gray-300\",\"children\":[\"Corey Stone\",\" is a passionate web developer and technology enthusiast.\"]}]]}],[\"$\",\"div\",null,{\"className\":\"mt-8 text-center\",\"children\":[\"$\",\"$Ld\",null,{\"href\":\"/blog\",\"className\":\"inline-flex items-center text-primary dark:text-primary-light hover:underline\",\"children\":[[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"arrow-left\",\"className\":\"svg-inline--fa fa-arrow-left mr-2 h-4 w-4\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z\",\"style\":{}}]}],\"Back to all posts\"]}]}]]}]}]}]\n"])</script></body></html>