(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[856],{9188:function(e,t,r){Promise.resolve().then(r.bind(r,726))},726:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(7437),s=r(2265),n=r(5725);async function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{let a=await fetch(e,t);if(!a.ok){if(429===a.status&&r>0)return await new Promise(e=>setTimeout(e,1e3)),l(e,t,r-1);throw Error("HTTP error! status: ".concat(a.status))}return a}catch(a){if(r>0)return await new Promise(e=>setTimeout(e,1e3)),l(e,t,r-1);throw a}}async function c(e,t){try{let t=new FormData;t.append("document",e);let r=await l("".concat("https://api.docuseal.com/v1","/documents"),{method:"POST",headers:{Authorization:"Bearer ".concat("your_api_key_here")},body:t});if(!r.ok){let e=await r.json();throw Error(e.message||"Failed to upload document")}return await r.json()}catch(e){throw console.error("Document upload error:",e),Error(e instanceof Error?e.message:"Failed to upload document")}}var d=r(9064),o=r(1268),i=r(5217);let x={"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/msword":[".doc"]};function m(e){let{onUploadSuccess:t,onUploadError:r}=e,[l,m]=(0,s.useState)(!1),[u,p]=(0,s.useState)(0),[h,g]=(0,s.useState)(null),[y,f]=(0,s.useState)(null),j=(0,s.useCallback)(async e=>{let a=e[0];if(a){f(a),m(!0),g(null),p(0);try{let e=await c(a,e=>{p(e)});d.Am.success("Document uploaded successfully!"),null==t||t(e.id)}catch(t){let e=t instanceof Error?t.message.includes("Failed to fetch")?"Network error. Please check your connection and try again.":t.message:"An unexpected error occurred. Please try again.";g(e),d.Am.error(e),null==r||r(e)}finally{m(!1)}}},[t,r]),{getRootProps:N,getInputProps:b,isDragActive:w}=(0,n.uI)({onDrop:j,accept:x,maxSize:10485760,multiple:!1}),k=()=>{f(null),g(null)};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{...N(),className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 ".concat(w?"border-primary bg-primary/5":"border-gray-300 dark:border-gray-600"),children:[(0,a.jsx)("input",{...b()}),(0,a.jsx)("div",{className:"space-y-4",children:y?(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(o.G,{icon:y.type.includes("pdf")?i.gSj:i.Mfv,className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(y.size/1024/1024).toFixed(2)," MB"]})]})]}),!l&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),k()},className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:(0,a.jsx)(o.G,{icon:i.NBC,className:"h-5 w-5"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(o.G,{icon:i.cf$,className:"h-12 w-12 text-gray-400 dark:text-gray-500"})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:w?"Drop the file here":"Drag and drop your document here"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"or click to browse files"}),(0,a.jsx)("p",{className:"mt-2 text-xs text-gray-400 dark:text-gray-500",children:"Supported formats: PDF, DOCX, DOC (Max 10MB)"})]})]})})]}),h&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.G,{icon:i.RLE,className:"h-5 w-5 text-red-500"}),(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:h})]})}),l&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-300",style:{width:"".concat(u,"%")}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Uploading... ",u,"%"]}),100===u&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-green-500",children:[(0,a.jsx)(o.G,{icon:i.f8k,className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Complete"})]})]})]})]})}var u=r(9376);function p(){let e=(0,u.useRouter)(),[t,r]=(0,s.useState)(null);return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Upload Document"}),(0,a.jsx)("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400",children:"Upload your document to prepare it for signing"})]}),t&&(0,a.jsx)("div",{className:"mb-8 p-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg",children:(0,a.jsx)("p",{className:"text-green-800 dark:text-green-200",children:t})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:(0,a.jsx)(m,{onUploadSuccess:t=>{r("Document uploaded successfully!"),setTimeout(()=>{e.push("/client-portal/documents")},2e3)},onUploadError:e=>{console.error("Upload error:",e)}})}),(0,a.jsxs)("div",{className:"mt-8 text-center text-sm text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("p",{children:"Supported file types: PDF, DOCX, DOC"}),(0,a.jsx)("p",{className:"mt-1",children:"Maximum file size: 10MB"})]})]})})}}},function(e){e.O(0,[676,268,758,971,117,744],function(){return e(e.s=9188)}),_N_E=e.O()}]);